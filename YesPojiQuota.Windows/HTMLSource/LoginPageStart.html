<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Yes | the Fastest and Widest 4G Mobile Internet in Malaysia</title>
    <meta name="description" content="Template 1 Header Footer Importing" />
    <link title="Favicon" rel="icon" type="image/x-icon" href="favicon.ico" />

    <link rel="stylesheet" type="text/css" href="/pas/sites/utm1/web_main.css" />
    <link rel="stylesheet" type="text/css" href="/pas/sites/utm1/web_common.css" />
    <script type="text/javascript" src="/pas/sites/utm1/jquery.js"></script>
    <script type="text/javascript" src="/pas/sites/utm1/cufon-yui.js"></script>
    <script type="text/javascript" src="/pas/sites/utm1/vag-rounded-light_700.font.js"></script>
    <script type="text/javascript" src="/pas/sites/utm1/vag-rounded_500-vag-rounded_500.font.js"></script>
    <script type="text/javascript" src="/pas/sites/utm1/cufon.init.js"></script>

    <style>
        .utm_bkg {
            background: url(/pas/sites/utm1/header-background.png) repeat-x;
            height: 71px;
            width: 100%;
            display: inline-block;
        }

        .blueButtonLG .left {
            height: 38px;
            width: 10px;
            background: url(/pas/sites/utm1/blueButton_lg_corners.png) left top no-repeat;
            float: left;
        }

        .blueButtonLG .right {
            height: 38px;
            width: 10px;
            background: url(/pas/sites/utm1/blueButton_lg_corners.png) right top no-repeat;
            float: left;
        }

        .blueButtonLG .center {
            height: 38px;
            padding: 8px 10px;
            background: url(/pas/sites/utm1/blueButton_lg_bg.png) left top repeat-x;
            float: left;
            color: #FFFFFF;
            text-decoration: none;
        }

        .arrowWhite {
            background: url(/pas/sites/utm1/whiteArrow.png) no-repeat;
            height: 12px;
            width: 10px;
            display: inline-block;
        }

        .cart {
            background: url(/pas/sites/utm1/cart_icon.png) no-repeat;
            height: 23px;
            width: 22px;
            display: inline-block;
        }

        #header .logo {
            background: url(/pas/sites/utm1/logo.png) no-repeat;
            height: 48px;
            width: 190px;
            float: left;
            display: inline-block;
        }

        #header .UTM {
            background: url(/pas/sites/utm1/logo.png) no-repeat;
            height: 61px;
            width: 190px;
            float: left;
            display: inline-block;
        }

        .error {
            color: red;
        }
    </style>
</head>

<body onkeypress='checkFieldsOnEnterKey(event)' onload="deniedMessageCheck()">

    <form name="myform" id="myform" action="https://apc.aptilo.com/cgi-bin/login" method="post" autocomplete="off" style="margin:0px;padding:0px;">
        <input type="hidden" name="realm" id="realm" value="yes.my" />

        <input type="hidden" name="username" id="username" />
        <input type="hidden" name="key" value="utm1-204d32ce3723d53146e440bd3251569b" />
        <input type="hidden" name="deniedpage" value="/pas/parsed/utm1/index_desktop.html?key=utm1-204d32ce3723d53146e440bd3251569b&dummy=true" />
        <input type="hidden" name="showsession" value="yes" />
        <input type="hidden" name="acceptedurl" id="acceptedurl" />

        <!-- Body begin -->
        <div>
            <table width="100%" border="0" cellpadding="0" cellspacing="0">
                <tr>
                    <td colspan="2">
                        <div class="cufon text20 blueText">Login with your Yes ID/ University ID to start surfing!</div>
                        <div class="spacer_5"></div>
                        <div></div>
                        <div class="spacer_15"></div>
                        <div>
                            <span class="text16"><strong>Which ID would you like to login with?</strong></span><br />

                            <select name="yesID" id="yesID" style="width:180px;" class="text13 textGray">
                                <option value="Yes Subscriber">Yes Subscriber</option>
                                <option value="UTM Staff">UTM Staff</option>
                                <option value="UTM Student">UTM Student</option>
                            </select>

                        </div>
                        <div class="spacer_20"></div>
                    </td>
                </tr>
                <tr>
                    <td width="348" class="text16"><strong>What is your Yes ID / University ID?</strong></td>
                    <td width="284" class="text16"><strong>Please enter your ID Password:</strong></td>
                </tr>
                <tr>
                    <td><div class="spacer_5"></div><input name="user" type="text" id="user" style="width:280px" value="Type your Yes ID / University ID here" class="text13 textGray" onblur="checkUsername()" /></td>
                    <td>
                        <div class="spacer_5"></div>
                        <input name="password" type="password" id="password" style="width:280px" value="Type your password here" class="text13 textGray" onblur="checkPassword()" />
                    </td>
                </tr>

                <tr>
                    <td colspan="2" class="text11 textGray">
                        <div class="spacer_5"></div>
                        (e.g. YesID@yes.my, 123456.utm@yes.my, UTMID@utm.my or UTMID@live.utm.my)
                    </td>
                </tr>
                <tr>
                    <td colspan=2><span id="error-user" class="error"></span></td>
                </tr>

                <tr>
                    <td colspan="2" valign="top" class="text11 textGray">
                        <table width="100%" border="0" cellspacing="0" cellpadding="0">
                            <tr>
                                <td valign="top" width="17%">
                                    <a class="blueButtonLG floatLeft" href="#" onclick="return checkFields()">
                                        <div class="left"></div>
                                        <div class="cufon text18 center">Login<span class="arrowWhite" style="margin-bottom:-1px; margin-left:2px;"></span></div>
                                        <div class="right"></div>
                                    </a>
                                </td>
                                <td valign="top" width="83%" style="padding-top:8px;">
                                    <table width="100%" border="0" cellspacing="0" cellpadding="0">
                                        <tr>
                                            <td width="4%"><input type="checkbox" name="checker" id="checker" /></td>
                                            <td width="96%">Remember me on this computer</td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
        </div>
        <!-- Body end -->                     
    </form>

    <script type="text/javascript" src="/pas/sites/utm1/functions.js"></script>
    <script language="JavaScript" type="text/javascript">

        function gotoActivation() {
            window.open("https://www.yes.my/activation/createYesPlanNewAccount.do");
        }

        function checkUsername() {
            var username = f('user');
            var selectedYesIdType1 = document.myform.yesID.options[document.myform.yesID.selectedIndex].value;
            if (document.getElementById("errorMessage") != null) {
                document.getElementById("errorMessage").innerHTML = "";
            }
            username.value = trimAll(username.value);
            if (username.value.length < 1) {
                setError('user', selectedYesIdType1 + ' ID is required.');
            }
            else {
                setReset('user');
            }
        }
        function checkPassword() {
            var password = f('password');
            if (document.getElementById("errorMessage") != null) {
                document.getElementById("errorMessage").innerHTML = "";
            }
            password.value = trimAll(password.value);
            if (password.value.length < 1) {
                setError('user', 'Password is required.');
            }
            else {
                setReset('user');
            }
        }
        function checkFieldsOnEnterKey(e) {
            if (event.which == 13 || event.keyCode == 13) {
                checkFields();
            } else {
                // do nothing
            }
        }

        function checkFields() {
            checkUsername();
            checkPassword();
            var selectedYesIdType = document.myform.yesID.options[document.myform.yesID.selectedIndex].value;

            if (selectedYesIdType == "Yes Subscriber") {
                f('realm').value = "yes.my";
            } else if (selectedYesIdType == "UTM Staff") {
                f('realm').value = "utm.my";
            } else if (selectedYesIdType == "UTM Student") {
                f('realm').value = "live.utm.my";
            } else {
                // do nothing
            }

            if (checkError('user') != "") {
                return false;
            }
            else {
                var u1 = f('user').value.split("@");
                if (typeof (u1[1]) != "undefined") {
                    //if(u1[1]!="yes.my"){ - added below for validating the wifi.yes.my (Ramesh)
                    //if(u1[1]!="yes1.my" && u1[1]!="wifi.yes1.my" && u1[1]!="wifi.yes.my" && u1[1]!="yes.my"){
                    if (u1[1] != "yes1.my" && u1[1] != "wifi.yes1.my" && u1[1] != "partner.com" && u1[1] != "yes.my" && u1[1] != "test.com" && u1[1] != "utm.my" && u1[1] != "wifi.yes.my" && u1[1] != "utm.yes.my" && u1[1] != "utm.yes1.my" && u1[1] != "utm.edu.my" && u1[1] != "utm.my" && u1[1] != "live.utm.my") {
                        //alert('Yes ID is required, please enter a valid Yes ID');

                        setError('user', 'Invalid ' + selectedYesIdType + ' ID. Please enter a valid ' + selectedYesIdType + ' ID.');
                        return false;
                    }
                }/*else{
				setError('user','Invalid '+selectedYesIdType+'. Please enter a valid '+selectedYesIdType+'.');
				return false;
			}*/

                var u1 = f('user').value.split("@");

                if (typeof (u1[1]) == "undefined" && f('realm').value != "") {

                    f('username').value = u1[0] + "@" + f('realm').value;
                    //f('username').value = f('user').value;
                }

				/*else{
				  f('username').value = u1[0];
		  		}*/

                if (f('username').value == "") {
                    f('username').value = f('user').value;
                }
                //alert("yes id type:"+selectedYesIdType);
                newCookie('aptilo-yesIdType', selectedYesIdType, 30);
                newCookie('aptilo-user', '', 30);
                newCookie('aptilo-pass', '', 30);

                if (f('checker').checked == true) {
                    newCookie('aptilo-user', f('username').value, 30);
                    newCookie('aptilo-pass', f('password').value, 30);
                }

                //alert(f('username').value);
                f('acceptedurl').value = "http://detectportal.firefox.com/success.txt?username=" + f('username').value;
                document.forms[0].submit();
                return true;
            }
        }
        document.myform.user.value = readCookie("aptilo-user");
        document.myform.password.value = readCookie("aptilo-pass");

        for (var ii = 0; ii < document.myform.yesID.options.length; ii++) {
            if (document.myform.yesID.options[ii].value == readCookie("aptilo-yesIdType")) {
                document.myform.yesID.options[ii].selected = true;
            }
        }

        //]]>

        /*if(errorStatus=="true"){
            var yesIdType=document.myform.yesID.options[document.myform.yesID.selectedIndex].value;
            //alert(yesIdType +"\t"+readCookie("aptilo-yesIdType"));
            document.getElementById("errorMessage").innerHTML="Invalid "+yesIdType+" ID or Password.";
        }*/

        function parseCause(deniedCause) {

            if (deniedCause == "") {
                return "";
            } else if (deniedCause == 1) {
                return "User not found";
            } else if (deniedCause == 2) {
                return "Wrong password";
            } else if (deniedCause == 3) {
                return "No zone access";
            } else if (deniedCause == 4) {
                return "Inactivated access node";
            } else if (deniedCause == 5) {
                return "Inconsistent access node";
            } else if (deniedCause == 6) {
                return "Disabled user account";
            } else if (deniedCause == 7) {
                return "You have reached the maximum devices(which is 1) allowed to for your UTM ID. If you wish to continue to login with this device, please disconnect any one device currently connected with your UTM ID, or login with your YesID.";
            } else if (deniedCause == 8) {
                return "You have exceeded the quota on your UTM ID. To continue surfing the Internet, you can login using your Yes ID";
            } else if (deniedCause == 9) {
                return "Your UTM ID is not found. Please enter your valid UTM ID or contact it@utm.my for assistance.";
            } else if (deniedCause == 10) {
                return "No timeleft for account";
            } else if (deniedCause == 11) {
                return "Maximum number of simultaneous sessions";
            } else if (deniedCause == 12) {
                return "The username/password that you have entered is incorrect. Please try again";
            } else if (deniedCause == 13) {
                return "Internal syntax error";
            } else if (deniedCause == 14) {
                return "Inactivated realm";
            } else if (deniedCause == 15) {
                return "Failed to get opaque credentials";
            } else if (deniedCause == 16) {
                return "Service temporary closed";
            } else if (deniedCause == 17) {
                return "LDAP lookup failed";
            } else if (deniedCause == 18) {
                return "Inactive user account";
            } else if (deniedCause == 19) {
                return "Expired account";
            } else {
                return "Invalid login, error(" + deniedCause + ")";
            }
        }

        function deniedMessageCheck() {
            if ("" != "") {
                var deniedCause = parseCause("");
                if (deniedCause != "") {
                    setError('user', deniedCause);
                }
            } else {
                Open1Window();
            }
        }

    </script>
</body>
</html>
